<!-- src/app/cart/cart.component.html -->

<div class="container">
    <h2>Shopping Cart</h2>
    <table class="table">
      <thead>
        <tr>
          <th>Product</th>
          <th>Price</th>
          <th>Quantity</th>
          <th>Total</th>
          <th></th> <!-- Empty header for remove button -->
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let item of cartItems; let i = index">
          <td>{{ item.product.name }}</td>
          <td>${{ item.product.price }}</td>
          <td>
            <input
              type="number"
              [(ngModel)]="item.quantity"
              (change)="updateCartItem(i)"
            />
          </td>
          <td>${{ item.product.price * item.quantity }}</td>
          <td>
            <button class="btn btn-danger" (click)="removeCartItem(i)">Remove</button>
          </td>
        </tr>
      </tbody>
    </table>
    <p>Total: ${{ calculateTotal() }}</p>
    <div>
        <button class="btn btn-primary" [ngStyle]="{float:'right'}" (click)="checkout()">Checkout</button>
        <button class="btn btn-primary"  [ngStyle]="{float:'left'}" (click)="openProdDetail()">Go back</button>
    </div>
 
  </div>
  